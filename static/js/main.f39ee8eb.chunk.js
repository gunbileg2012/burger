(this["webpackJsonponline-burger-order"]=this["webpackJsonponline-burger-order"]||[]).push([[0],{14:function(e,t,n){e.exports={breadtop:"style_breadtop__1IqKD",seed:"style_seed__1PXuw",second:"style_second__3F7y0",third:"style_third__3Snm9",fourth:"style_fourth__2JeNR",salad:"style_salad__2QrsG",meat:"style_meat__rWhzQ",cheese:"style_cheese__KXAx3",bacon:"style_bacon__1o_Hi",breadbottom:"style_breadbottom__3tPRg"}},147:function(e,t,n){e.exports=n.p+"static/media/logo.fae5429c.png"},148:function(e,t,n){e.exports={Menu:"style_Menu__1Rhv_"}},150:function(e,t,n){e.exports={HamBurgerMenu:"style_HamBurgerMenu__1Xx7K"}},151:function(e,t,n){e.exports={burger:"style_burger__1M03x"}},152:function(e,t,n){e.exports={BuildControls:"style_BuildControls__3_elQ"}},153:function(e,t,n){e.exports={Modal:"style_Modal__3pk7C"}},154:function(e,t,n){e.exports={Shadow:"style_Shadow__1yX3-"}},155:function(e,t,n){e.exports={Button:"style_Button__2kvqS"}},156:function(e,t,n){e.exports={loader:"style_loader__1_KIE",load1:"style_load1__NQvKn"}},161:function(e,t,n){e.exports={Order:"style_Order__1nfDe"}},162:function(e,t,n){e.exports={LoginForm:"style_LoginForm__3tTtC"}},163:function(e,t,n){e.exports={LoginForm:"style_LoginForm__3xg0Q"}},164:function(e,t,n){e.exports={ShippingPage:"style_ShippingPage__2LD-r"}},165:function(e,t,n){e.exports={ContactData:"style_ContactData__3jtl2"}},167:function(e,t,n){e.exports=n(470)},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},469:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),c=n.n(o),i=(n(171),n(10)),l=n(11),s=n(13),u=n(12),d=(n(172),n(87)),m=n.n(d),g=(n(173),n(147)),p=n.n(g),f=function(){return a.a.createElement("img",{src:p.a,alt:""})},h=n(88),b=n.n(h),E=n(19),O=function(e){return a.a.createElement("li",{className:"".concat(b.a.MenuItem)},a.a.createElement(E.b,{exact:e.exact,to:e.url,activeClassName:b.a.active},e.children))},_=n(148),y=n.n(_),v=n(4),S=Object(v.b)((function(e){return{userId:e.signUpReducer.userId}}),null)((function(e){return a.a.createElement("div",null,a.a.createElement("ul",{className:y.a.Menu},e.userId?a.a.createElement(r.Fragment,null,a.a.createElement(O,{exact:!0,url:"/"},"\u0428\u0438\u043d\u044d \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"),a.a.createElement(O,{url:"/order"},"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0430"),a.a.createElement(O,{url:"/logout"},"\u0413\u0430\u0440\u0430\u0445")):a.a.createElement(r.Fragment,null,a.a.createElement(O,{url:"/login"},"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"),a.a.createElement(O,{url:"/signUp"},"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"))))})),j=n(150),I=n.n(j),R=function(e){return a.a.createElement("div",{onClick:e.toggleSideBar,className:I.a.HamBurgerMenu},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},w=function(e){return console.log("Toolbar"),a.a.createElement("header",{className:m.a.Toolbar},a.a.createElement("div",null,a.a.createElement(R,{toggleSideBar:e.toggleSideBar})),a.a.createElement("div",null,a.a.createElement(f,null)),a.a.createElement("nav",{className:m.a.hideMobile},a.a.createElement(S,null)))},k=n(2),C=n(14),U=n.n(C),B=function(e){return"bread-top"===e.type?a.a.createElement("div",{className:U.a.breadtop},a.a.createElement("div",{className:U.a.seed}),a.a.createElement("div",{className:"".concat(U.a.seed,", ").concat(U.a.second)}),a.a.createElement("div",{className:"".concat(U.a.seed,", ").concat(U.a.third)}),a.a.createElement("div",{className:"".concat(U.a.seed,", ").concat(U.a.fourth)})):"meat"===e.type?a.a.createElement("div",{className:U.a.meat}):"cheese"===e.type?a.a.createElement("div",{className:U.a.cheese}):"bacon"===e.type?a.a.createElement("div",{className:U.a.bacon}):"salad"===e.type?a.a.createElement("div",{className:U.a.salad}):"bread-bottom"===e.type?a.a.createElement("div",{className:U.a.breadbottom}):a.a.createElement("div",null,".....")},N=n(151),D=n.n(N),x=n(5),P=Object(v.b)((function(e){return{ingredients:e.burgerReducer.ingredients}}))(Object(x.g)((function(e){var t=Object.entries(e.ingredients),n=[];return t.map((function(e,t){for(var r=0;r<e[1];r++)n.push(a.a.createElement(B,{key:t+":"+r,type:e[0]}))})),0===n.length&&(n=a.a.createElement("p",null,"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443.....")),a.a.createElement("div",{className:D.a.burger},a.a.createElement(B,{type:"bread-top"}),n,a.a.createElement(B,{type:"bread-bottom"}))}))),L=n(55),M=n.n(L),A=function(e){return a.a.createElement("div",{className:M.a.BuildControl},a.a.createElement("div",{className:M.a.label},e.mn),a.a.createElement("button",{className:M.a.Less,onClick:function(){return e.addInd(e.type)}},"\u041d\u044d\u043c\u044d\u0445"),a.a.createElement("button",{className:M.a.more,onClick:function(){return e.minusInd(e.type)},disabled:e.disabled[e.type]},"\u0425\u0430\u0441\u0430\u0445"))},T=n(152),F=n.n(T),H=function(e){return{type:"addIngredients",name:e}},K=function(e){return{type:"minIngredients",name:e}},J=Object(v.b)((function(e){return{totalPrice:e.burgerReducer.totalPrice,names:e.burgerReducer.names}}),(function(e){return{addIngredientsName:function(t){return e(H(t))},minIngredientsName:function(t){return e(K(t))}}}))((function(e){return console.log(e),a.a.createElement("div",{className:F.a.BuildControls},a.a.createElement("p",null,"\u0411\u0443\u0440\u0433\u0435\u0440\u0438\u0439\u043d \u04af\u043d\u044d: ",e.totalPrice,"\u20ae"),Object.keys(e.names).map((function(t,n){return a.a.createElement(A,{key:n,disabled:e.disabled,minusInd:e.minIngredientsName,addInd:e.addIngredientsName,type:t,mn:e.names[t]})})),a.a.createElement("button",{onClick:e.show,disabled:0===e.totalPrice},"\u0417\u0430\u0445\u0438\u0430\u043b\u0430\u0445"))})),V=n(153),W=n.n(V),Q=n(154),q=n.n(Q),z=function(e){return e.show?a.a.createElement("div",{onClick:e.closeConfirmModal,className:q.a.Shadow}):null},X=function(e){return a.a.createElement("div",null,a.a.createElement(z,{show:e.show}),a.a.createElement("div",{onClick:e.hideFunc,className:W.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},Y=n(155),G=n.n(Y),$=function(e){return a.a.createElement("button",{onClick:e.clicked,className:G.a.Button},e.text)},Z=Object(v.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice,names:e.burgerReducer.names}}))((function(e){return a.a.createElement("div",null,a.a.createElement("h3",null,"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"),a.a.createElement("p",null,"\u0422\u0430\u043d\u044b \u0441\u043e\u043d\u0433\u043e\u0441\u043e\u043d \u043e\u0440\u0446\u0443\u0443\u0434"),a.a.createElement("ul",null,Object.keys(e.ingredients).map((function(t,n){return a.a.createElement("li",{key:n},e.names[t]," : ",e.ingredients[t])}))),a.a.createElement("p",null,a.a.createElement("b",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u043d\u0438\u0439\u0442 \u0434\u04af\u043d: ",e.totalPrice," \u20ae")),a.a.createElement($,{clicked:e.hideFunc,text:"\u0422\u0430\u0442\u0433\u0430\u043b\u0445\u0437\u0430\u0445"}),a.a.createElement($,{clicked:e.continue,text:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"}))})),ee=n(44),te=n.n(ee),ne=te.a.create({baseURL:"https://burger-a2b0f.firebaseio.com/"}),re=n(156),ae=n.n(re),oe=function(){return a.a.createElement("div",{className:ae.a.loader})},ce=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={confirmOrder:!1,loading:!1},e.componentDidMount=function(){e.setState({loading:!0}),ne.get("/orders.json").then((function(t){var n=Object.entries(t.data);(n=n.reverse()).forEach((function(e){}));var r=n[n.length-1];e.setState({totalPrice:r[1].totalPrice,ingredients:r[1].ingredients,lastCustomerName:r[1].address.name})})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({loading:!1})}))},e.ShowConfirmModal=function(){return e.setState({confirmOrder:!0})},e.hideConfirmModal=function(){return e.setState({confirmOrder:!1})},e.continueOrder=function(){e.hideConfirmModal(),e.props.history.push({pathname:"/ship"})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=Object(k.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;return a.a.createElement("div",null,a.a.createElement(X,{show:this.state.confirmOrder},this.state.loading?a.a.createElement(oe,null):a.a.createElement(Z,{hideFunc:this.hideConfirmModal,continue:this.continueOrder,names:this.props.names})),this.state.loading&&a.a.createElement(oe,null),a.a.createElement("p",null,"\u0421\u04af\u04af\u043b\u0447\u0438\u0439\u043d \u0437\u0430\u0445\u0438\u0430\u043b\u0430\u0433\u0447: ",this.state.lastCustomerName),a.a.createElement(P,{ingredients:this.props.ingredients}),a.a.createElement(J,{show:this.ShowConfirmModal,disabled:e}))}}]),n}(r.Component),ie=Object(v.b)((function(e){return{ingredients:e.ingredients,totalPrice:e.totalPrice,names:e.names}}),(function(e){return{addIngredientsName:function(t){return e(H(t))},minIngredientsName:function(t){return e(K(t))}}}))(ce),le=n(56),se=n.n(le),ue=function(e){var t=[se.a.SideBar,se.a.Close];return e.showSideBar&&(t=[se.a.SideBar,se.a.Open]),a.a.createElement("div",null,a.a.createElement(z,{closeConfirmModal:e.toggleSideBar,show:e.showSideBar}),a.a.createElement("div",{onClick:e.toggleSideBar,className:t.join(" ")},a.a.createElement(f,null),a.a.createElement(S,null)))},de=(n(194),n(469),n(161)),me=n.n(de),ge=function(e){return a.a.createElement("div",{className:me.a.Order},a.a.createElement("p",null,"\u0425\u0430\u044f\u0433:",e.order.address.name+" | "+e.order.address.street+" | "+e.order.address.city),a.a.createElement("p",null,"\u041e\u0440\u0446:"," \u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445: "+e.order.ingredients.bacon+" |  \u0411\u044f\u0441\u043b\u0430\u0433\u0430: "+e.order.ingredients.cheese+" |  \u041c\u0430\u0445: "+e.order.ingredients.meat+" \u0421\u0430\u043b\u0430\u0434: "+e.order.ingredients.salad),a.a.createElement("p",null,a.a.createElement("b",null,"\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d: ",e.order.totalPrice)))},pe=function(){return{type:"LOAD_ORDERS_START"}},fe=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},he=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},be=function(){return{type:"SAVE_ORDER_START"}},Ee=function(){return{type:"SAVE_ORDER_SUCCESS"}},Oe=function(){return{type:"SAVE_ORDER_ERROR"}},_e=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],loading:!1},e.componentDidMount=function(){e.props.loadOrders(e.props.userId)},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading?a.a.createElement(oe,null):this.props.orders.map((function(e,t){return a.a.createElement(ge,{key:t,order:e[1]})})))}}]),n}(r.Component),ye=Object(v.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,userId:e.signUpReducer.userId}}),(function(e){return{loadOrders:function(t){return e(function(e){return function(t,n){t(pe());var r=n().signUpReducer.token;ne.get("/orders.json?auth=".concat(r,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){t(fe(Object.entries(e.data)))})).catch((function(e){return t(he(e))}))}}(t))}}}))(_e),ve=n(162),Se=n.n(ve),je=function(){return{type:"SignInUserStart"}},Ie=function(e){return{type:"SignInUserSuccess",resultData:e}},Re=function(e){return{type:"SignInUserError",error:e}},we=function(e){return function(t){setTimeout((function(){t({type:"Logout"})}),e)}},ke=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",error:"",token:null,userId:null,logginIn:null},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePass=function(t){e.setState({password:t.target.value})},e.login=function(){e.props.SignInUser(e.state.email,e.state.password)},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:Se.a.LoginForm},this.props.userId&&a.a.createElement(x.a,{to:"/order"}),a.a.createElement("input",{type:"text",placeholder:"\u0418-\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433",onChange:this.changeEmail}),a.a.createElement("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",onChange:this.changePass}),this.props.loading&&a.a.createElement(oe,null),a.a.createElement("button",{onClick:this.login},"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"))}}]),n}(r.Component),Ce=Object(v.b)((function(e){return{loading:e.signUpReducer.loading,fireBaseerror:e.signUpReducer.fireBaseerror,userId:e.signUpReducer.userId,token:e.signUpReducer.token,logginIn:e.signUpReducer.logginIn}}),(function(e){return{SignInUser:function(t,n){return e(function(e,t){return function(n){n(je());var r={email:e,password:t,returnSecureToken:!0};te.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCRrWkYS8J4rq6KoJRiQLKH34hzHFvjwao",r).then((function(e){var t=e.data.idToken,r=e.data.localId,a=e.data.expiresIn;new Date((new Date).getTime()+1e3*a),e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",r),localStorage.setItem("expireDate",t),localStorage.setItem("refreshToken",r),n(Ie(e.data)),n(we(1e3*a))})).catch((function(e){n(Re(e))}))}}(t,n))}}}))(ke),Ue=n(163),Be=n.n(Ue),Ne=function(){return{type:"SignUpUserStart"}},De=function(e){return console.log(e),{type:"SignUpUserSuccess",resultData:e}},xe=function(e){return console.log(e),{type:"SignUpUserError",error:e}},Pe=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",password2:"",error:"",token:null,userId:null},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePass1=function(t){e.setState({password:t.target.value})},e.changePass2=function(t){e.setState({password2:t.target.value})},e.SignUp=function(){if(e.state.password!==e.state.password2)return e.setState({error:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u0437\u04e9\u0432 \u0434\u0430\u0432\u0442\u0430\u0436 \u0431\u0438\u0447\u043d\u044d \u04af\u04af"});e.props.SignUpUser(e.state.email,e.state.password)},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:Be.a.LoginForm},this.props.userId&&a.a.createElement(x.a,{to:"/order"}),a.a.createElement("input",{type:"text",onChange:this.changeEmail,placeholder:"\u0418-\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",onChange:this.changePass1}),a.a.createElement("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u0434\u0430\u0432\u0442\u0430\u0445",onChange:this.changePass2}),this.props.loading&&a.a.createElement(oe,null),this.props.fireBaseerror&&a.a.createElement("h1",null,this.props.fireBaseerror),this.state.error&&a.a.createElement("h1",null,this.state.error),a.a.createElement("button",{onClick:this.SignUp},"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"))}}]),n}(r.Component),Le=Object(v.b)((function(e){return{loading:e.signUpReducer.loading,fireBaseerror:e.signUpReducer.fireBaseerror,userId:e.signUpReducer.userId}}),(function(e){return{SignUpUser:function(t,n){return e(function(e,t){return function(n){n(Ne());var r={email:e,password:t,returnSecureToken:!0};te.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCRrWkYS8J4rq6KoJRiQLKH34hzHFvjwao",r).then((function(e){var t=e.data.idToken,r=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",r),n(De(e.data))})).catch((function(e){n(xe(e))}))}}(t,n))}}}))(Pe),Me=n(164),Ae=n.n(Me),Te=n(165),Fe=n.n(Te),He=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={name:null,city:null,street:null},e.changeName=function(t){e.setState({name:t.target.value})},e.changeStreet=function(t){e.setState({street:t.target.value})},e.changeCity=function(t){e.setState({city:t.target.value})},e.sendOrder=function(){var t={userId:e.props.userId,ingredients:e.props.ingredients,totalPrice:e.props.totalPrice,address:{name:e.state.name,city:e.state.city,street:e.state.street}};e.props.saveOrder(t)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){this.props.finished&&!this.props.error&&this.props.history.replace("/order")}},{key:"render",value:function(){return a.a.createElement("div",{className:Fe.a.ContactData},a.a.createElement("div",null,this.props.error?"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u04af\u0435\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430: ".concat(this.props.error):a.a.createElement("div",null)),this.props.loading?a.a.createElement(oe,null):a.a.createElement("div",null,a.a.createElement("input",{type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433",onChange:this.changeStreet}),a.a.createElement("input",{type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0445\u043e\u0442",onChange:this.changeCity}),a.a.createElement("input",{type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440",onChange:this.changeName}),a.a.createElement("button",{onClick:this.sendOrder},"\u0418\u043b\u0433\u044d\u044d\u0445")))}}]),n}(r.Component),Ke=Object(v.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice,loading:e.orderReducer.newOrder.loading,finished:e.orderReducer.newOrder.finished,error:e.orderReducer.newOrder.error,userId:e.signUpReducer.userId}}),(function(e){return{saveOrder:function(t){return e(function(e){return function(t,n){t(be());var r=n().signUpReducer.token;ne.post("orders.json?auth="+r,e).then((function(e){t(Ee())})).catch((function(e){return t(Oe(e))}))}}(t))}}}))(Object(x.g)(He)),Je=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).canelOrder=function(){e.props.history.goBack()},e.showContactData=function(){e.props.history.replace("/ship/contact")},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:Ae.a.ShippingPage},a.a.createElement("p",null,this.props.totalPrice,"\u20ae \u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430"),a.a.createElement(P,null),a.a.createElement($,{clicked:this.canelOrder,text:"\u0411\u0443\u0446\u0430\u0445"}),a.a.createElement($,{clicked:this.showContactData,text:"\u0425\u04af\u0440\u0433\u044d\u043b\u0442\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b \u043e\u0440\u0443\u0443\u043b\u0430\u0445"}),a.a.createElement(x.b,{path:"/ship/contact"},a.a.createElement(Ke,null)))}}]),n}(r.Component),Ve=Object(v.b)((function(e){return{totalPrice:e.totalPrice,ingredients:e.ingredients}}),(function(e){return{}}))(Je),We=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.logout()},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(x.a,{to:"/login"})}}]),n}(a.a.Component),Qe=Object(v.b)(null,(function(e){return{logout:function(){return e({type:"Logout"})}}}))(We),qe=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showSideBar:!1},e.toggleSideBar=function(){e.setState((function(e){return{showSideBar:!e.showSideBar}}))},e.componentDidMount=function(){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=new Date(localStorage.getItem("expireDate"));localStorage.getItem("refreshToken");t&&(r>new Date?(e.props.autoLogin(t,n),e.props.autoLogout(r.getTime()-(new Date).getTime())):e.props.Logout())},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(w,{showSideBar:this.state.showSideBar,toggleSideBar:this.toggleSideBar}),a.a.createElement(ue,{showSideBar:this.state.showSideBar,toggleSideBar:this.toggleSideBar}),a.a.createElement("main",{className:"Content"},this.props.userId?a.a.createElement(x.d,null,a.a.createElement(x.b,{path:"/order",component:ye}),a.a.createElement(x.b,{path:"/ship",component:Ve}),a.a.createElement(x.b,{path:"/logout",component:Qe}),a.a.createElement(x.b,{path:"/",component:ie})):a.a.createElement(x.d,null,a.a.createElement(x.b,{path:"/login",component:Ce}),a.a.createElement(x.b,{path:"/signUp",component:Le}),a.a.createElement(x.a,{to:"/login"}))))}}]),n}(r.Component),ze=Object(v.b)((function(e){return{userId:e.signUpReducer.userId}}),(function(e){return{autoLogin:function(t,n){return e(function(e,t){return{type:"SignInUserSuccessStorage",token:e,userId:t}}(t,n))},Logout:function(){return e({type:"Logout"})},autoLogout:function(t){return e(we(t))}}}))(qe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=n(45),Ye=n(166),Ge=n(54),$e={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:0,confirmOrder:!1,names:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",salad:"\u0421\u0430\u043b\u0430\u0430\u0434"}},Ze={salad:150,cheese:250,bacon:800,meat:1500},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;if("addIngredients"===t.type)return Object(k.a)(Object(k.a)({},e),{},{ingredients:Object(k.a)(Object(k.a)({},e.ingredients),{},Object(Ge.a)({},t.name,e.ingredients[t.name]+1)),totalPrice:e.totalPrice+Ze[t.name],confirmOrder:!1});if("minIngredients"===t.type){var n=e.totalPrice-Ze[t.name];return Object(k.a)(Object(k.a)({},e),{},{ingredients:Object(k.a)(Object(k.a)({},e.ingredients),{},Object(Ge.a)({},t.name,e.ingredients[t.name]-1)),totalPrice:n,confirmOrder:!1})}return e},tt={orders:[],loading:!1,error:null,newOrder:{loading:!1,finished:!1,error:null}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS_START":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{orders:t.orders,loading:!1,finished:!0});case"LOAD_ORDERS_ERROR":return Object(k.a)(Object(k.a)({},e),{},{error:t.error,loading:!1});case"SAVE_ORDER_START":return Object(k.a)(Object(k.a)({},e),{},{newOrder:{loading:!0}});case"SAVE_ORDER_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{newOrder:{loading:!1,finished:!0}});case"SAVE_ORDER_ERROR":return Object(k.a)(Object(k.a)({},e),{},{newOrder:{loading:!1,error:t.error}});default:return e}},rt={loading:!1,fireBaseerror:null,token:null,userId:null,logginIn:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SignUpUserStart":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"SignUpUserError":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,fireBaseerror:t.error.response.data.error.message});case"SignUpUserSuccess":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,token:t.resultData.idToken,userId:t.resultData.localId});case"SignInUserStart":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"SignInUserSuccess":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,token:t.resultData.idToken,userId:t.resultData.localId,logginIn:!0});case"SignInUserSuccessStorage":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,token:t.token,userId:t.userId,logginIn:!0});case"SignInUserError":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,token:null,userId:null,logginIn:!1,fireBaseerror:t.error.response.data.error.message});case"Logout":return localStorage.removeItem("token"),localStorage.removeItem("userId"),Object(k.a)(Object(k.a)({},e),{},{loading:!1,token:null,userId:null,logginIn:!1,fireBaseerror:null});default:return e}},ot=Object(Xe.c)({burgerReducer:et,orderReducer:nt,signUpReducer:at}),ct=[function(e){return function(e){return function(t){return e(t)}}},Ye.a],it=Object(Xe.d)(ot,Xe.a.apply(void 0,ct));c.a.render(a.a.createElement(v.a,{store:it},a.a.createElement(E.a,null,a.a.createElement(a.a.StrictMode,null,a.a.createElement(ze,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){e.exports={BuildControl:"style_BuildControl__2MoER",Label:"style_Label__Wa2MX",Less:"style_Less__2WJHG",More:"style_More__3ftpS"}},56:function(e,t,n){e.exports={SideBar:"style_SideBar__9JBw5",Open:"style_Open__1HI6o",Close:"style_Close__9aYr9",Logo:"style_Logo__3VGOu"}},87:function(e,t,n){e.exports={Toolbar:"toolbar_Toolbar__24t7d",hideMobile:"toolbar_hideMobile__3LKgv"}},88:function(e,t,n){e.exports={MenuItem:"style_MenuItem__1rtbd",active:"style_active__18l-V"}}},[[167,1,2]]]);
//# sourceMappingURL=main.f39ee8eb.chunk.js.map